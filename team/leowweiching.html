<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>Leow Wei Ching - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Leow Wei Ching - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-investigapptor"><a class="link" href="#project-investigapptor">PROJECT: Investigapptor</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Investigapptor is a desktop application used for investigators to manage cases as simple, straightforward and efficient as possible.
The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 10 kLoC.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added <strong>support for managing investigation cases</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows the user to add, delete, edit, find, and view case details in Investigapptor</p>
</li>
<li>
<p>Justification: As Investigapptor is a tool for managing investigations, the ability to store, modify, and view case information is fundamental to the functionality of the application.</p>
</li>
<li>
<p>Highlights: This enhancement touched on the logic, model, storage, and UI components. In the model component, a new package had to be introduced to store case information.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: updated the GUI with a new colour scheme and style</p>
<div class="ulist">
<ul>
<li>
<p>Highlights: Styled with CSS</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103JAN2018-F14-B3/main/blob/master/collated/functional/leowweiching.md">Functional code</a>] [<a href="https://github.com/CS2103JAN2018-F14-B3/main/blob/master/collated/test/leowweiching.md">Test code</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Updated the GUI color scheme <a href="https://github.com/CS2103JAN2018-F14-B3/main/pull/185">#185</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Wrote content for the README.md <a href="https://github.com/CS2103JAN2018-F14-B3/main/pull/23">#23</a></p>
</li>
<li>
<p>Did cosmetic tweaks to existing contents of the User Guide</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>PRs reviewed (with non-trivial review comments)</p>
</li>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com/CS2103JAN2018-W15-B3/main/issues/127">1</a>, <a href="https://github.com/CS2103JAN2018-W15-B3/main/issues/133">2</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="case-commands"><a class="link" href="#case-commands">Case Commands</a></h3>
<div class="paragraph">
<p>These are case related commands.<br></p>
</div>
<div class="sect3">
<h4 id="AddCase"><a class="link" href="#AddCase">Adding a case: <code>addcase</code> [Since v1.1]</a></h4>
<div class="paragraph">
<p>The first step to managing your cases is to add them to the application along with their details.<br>
<strong>Format:</strong> <code>addcase n/CASE_NAME d/DESCRIPTION i/INVESTIGATOR_INDEX s/START_DATE [t/TAG]&#8230;&#8203;</code><br>
<strong>Shorthand Format:</strong> <code>ac</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Tags are optional, but you can add as many as you like to a case to help you organize better.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Examples:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>addcase n/Geylang Rape d/Rape at geylang i/1 s/12/05/1994 t/Rape t/prostitution</code></p>
</li>
<li>
<p><code>addcase n/Bedok Riot i/3 s/12/05/2017 d/Riot at bedok 85 t/Rape t/prostitution</code></p>
</li>
<li>
<p><code>ac n/Geylang Rape d/Rape at geylang i/1 s/12/05/1994</code>
==== Editing a case: <code>editcase</code> [Since v1.4]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can edit an existing case in the application by specifying the <code>CASE_INDEX</code> and entering the attributes that you wish to modify.<br>
<strong>Format:</strong> <code>editcase CASE_INDEX [n/NAME] [d/DESCRIPTION] [i/INVESTIGATOR_INDEX] [s/STARTDATE] [t/TAG]&#8230;&#8203;</code><br>
<strong>Shorthand Format:</strong> <code>ec</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The <code>CASE_INDEX</code> refers to the index number shown in the last listing of cases.<br></p>
</li>
<li>
<p>The <code>INVESTIGATOR_INDEX</code> refers to the index number shown in the last listing of investigators.<br></p>
</li>
<li>
<p>At least one of the optional fields must be provided.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
When editing tags, the existing tags of the case will be replaced by the new tags entered i.e adding of tags is not cumulative.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To help you find the index of the case that you want to edit, you can use the <code>findcases</code> command before using the <code>editcase</code> command to narrow the number of cases displayed in the listing.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can remove all the investigator&#8217;s tags by typing <code>t/</code> without specifying any tags after it.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Examples:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>editcase 1 d/some description i/1</code><br>
Edits the description and investigator of the 1st case to be <code>some description</code> and the 1st investigator in the most recent listing of investigators respectively.</p>
</li>
<li>
<p><code>ec 2 i/3 t/</code><br>
Changes the investigator of the 2nd case to the 3rd investigator in the most recent listing of investigators, and clears all existing tags.</p>
<div id="FindCases" class="paragraph">
<p>==== Locating cases by name: <code>findcases</code> [Since v1.3]</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Finds cases whose names contain any of the given keywords.<br>
Format: <code>findcases KEYWORD [MORE_KEYWORDS]</code><br>
Alias: <code>fc</code></p>
</div>
<div class="paragraph">
<p><strong>Example:</strong></p>
</div>
<div id="findcases" class="imageblock">
<div class="content">
<img src="../images/userguide-images/fc-command.png" alt="fc command" width="450">
</div>
<div class="title">Figure 1. Finding cases by its name</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The search is case insensitive. e.g <code>project</code> will match <code>Project</code></p>
</li>
<li>
<p>The order of the keywords does not matter. e.g. <code>Project Magic</code> will match <code>Magic Project</code></p>
</li>
<li>
<p>You can only search for case names. e.g. <code>Stranger Danger</code> [Name] is valid <code>fraud</code> [Tag] is not valid</p>
</li>
<li>
<p>Only full words will be matched e.g. You cannot type <code>Danger</code> to search for names with the word <code>Dangerous</code></p>
</li>
<li>
<p>Case matching at least one keyword will be returned  (i.e. <code>OR</code> search). e.g. <code>Stranger Danger</code> will return <code>Stranger Things</code>, <code>Danger Lightning</code></p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>findcases SPF</code><br>
Returns <code>SPF Murder</code> and <code>SPF rape</code></p>
</li>
<li>
<p><code>findcases murder rape arson</code><br>
Returns any cases having names <code>murder</code>, <code>rape</code>, or <code>arson</code></p>
<div id="DeleteCase" class="paragraph">
<p>==== Deleting a case : <code>deletecase</code> [Since v1.3]</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can remove cases by specifying the <code>CASE_INDEX</code>. The index refers to the index number shown in the most recent listing of cases.<br>
<strong>Format:</strong> <code>deletecase CASE_INDEX</code><br>
<strong>Shorthand Format:</strong> <code>dc</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To help you find the index of the case that you want to remove, you can use the <code>findcases</code> command before using the <code>deletecase</code> command to narrow the number of cases displayed in the listing.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If a case is no longer active, consider using the <code>close</code> command instead so that you can continue to view details of the case.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Examples:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>listcases</code><br>
<code>deletecase 2</code><br>
Deletes the 2nd case in the list of all cases.</p>
</li>
<li>
<p><code>findcase Arson</code><br>
<code>dc 1</code><br>
Deletes the 1st case in the results of the <code>findcase</code> command.</p>
<div id="SelectCase" class="paragraph">
<p>==== Selecting a case : <code>selectcase</code> [Since v1.5]</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Selects the case identified by the index number used in the last case listing.<br>
Format: <code>selectcase INDEX</code><br>
Alias: <code>sc</code></p>
</div>
<div class="paragraph">
<p>To view more details about a case, you can select the case identified by the index number used in the last case listing.<br>
<strong>Format:</strong> <code>selectcase CASE_INDEX</code><br>
<strong>Shorthand Format:</strong> <code>sc</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>CASE_INDEX</code> refers to the index number shown in the last listing of cases.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Examples:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>listcases</code><br>
<code>selectcase 2</code><br>
Selects the 2nd case in the results of the <code>listcases</code> command.</p>
</li>
<li>
<p><code>findcases murder</code><br>
<code>selectcase 1</code><br>
Selects the 1st case in the results of the <code>findcase</code> command.</p>
</li>
<li>
<p><code>sc 3</code><br>
Selects the 3rd case in the most recent list of cases.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="code-crimecase-code-package"><a class="link" href="#code-crimecase-code-package"><code>crimecase</code> Package</a></h3>
<div class="sect3">
<h4 id="reason-for-implementation"><a class="link" href="#reason-for-implementation">Reason for implementation</a></h4>
<div class="paragraph">
<p>As Investigapptor is a tool for managing investigations, the ability to store information about a case is essential.</p>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current implementation</a></h4>
<div class="paragraph">
<p>Each attribute of a case, such as the case name, description, status, etc. are classes in the <code>crimecase</code> package. Each of the classes provide utility methods to check the validity of the string to be stored, retrieve the string that is stored, and obtain the hash code of the object.</p>
</div>
<div class="paragraph">
<p>The following classes have been introduced in the package as of v1.1:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Class</th>
<th class="tableblock halign-left valign-top">Constructor</th>
<th class="tableblock halign-left valign-top">Remark</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CaseName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new CaseName(“Project Zero”)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores a <code>String</code> that represents the name of the case.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new Description(“Abduction and murder of a Chicago greeting card executive.”)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores a <code>String</code> that represents the description of the case.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">StartDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new StartDate(“01/01/2015”)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores a <code>String</code> that represents the start date of the case.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">EndDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new EndDate(LARGEST_DATE)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores a <code>String</code> that represents the end date of the case.</p>
<p class="tableblock">The class contains a static string <code>LARGEST_DATE</code> that is often used as the default argument when instantiating the <code>EndDate</code> class to indicate a newly created case whose <code>Status</code> is “open”.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new Status()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores a <code>String</code> that represents the status of the case. The class only stores strings of value "open" or "close", with the default value set to "open" when the constructor is called.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>crimecase</code> package includes the <code>CrimeCase</code> class which is used to keep information about a case. The <code>CrimeCase</code> class provides utility methods to retrieve the different objects (e.g. <code>CaseName</code>), delete a tag, and obtain the hash code of the <code>CrimeCase</code> object.</p>
</div>
<div class="paragraph">
<p>A <code>CrimeCase</code> class is created with one constructor.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Class</th>
<th class="tableblock halign-left valign-top">Constructor</th>
<th class="tableblock halign-left valign-top">Remark</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CrimeCase</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new CrimeCase(name, description, investigatorToAdd, startDate, endDate, status, tagList)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stores <code>CaseName</code>, <code>Description</code>, <code>Investigator</code>, <code>StartDate</code>, <code>Status</code>, and <code>UniqueTagList</code> objects to represent information of the case.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><code>CrimeCase</code> objects are considered "duplicates" when they share at least the same <code>CaseName</code>, <code>Description</code>, and <code>StartDate</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="reasons-for-how-it-is-implemented"><a class="link" href="#reasons-for-how-it-is-implemented">Reasons for how it is implemented</a></h4>
<div class="paragraph">
<p>The <code>crimecase</code> package follows the model of the <code>person</code> package, whereby each attribute is represented by a class. This allows for better organization and a modular design which follows the single responsibility principle.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding-cases-feature"><a class="link" href="#adding-cases-feature">Adding cases feature</a></h3>
<div class="sect3">
<h4 id="reason-for-implementation-2"><a class="link" href="#reason-for-implementation-2">Reason for implementation</a></h4>
<div class="paragraph">
<p>To be able to manage cases, investigators should have the ability to add case details into the application.</p>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current implementation</a></h4>
<div class="paragraph">
<p>The <code>AddCaseCommandParser</code> parses the string of arguments provided by the user and splits the <code>String</code> into its separate components (i.e. <code>CaseName</code>, <code>Description</code>, <code>Index</code>, <code>StartDate</code>, <code>Set&lt;Tag&gt;</code>) to be used in the context of the <code>AddCaseCommand</code>. A <code>ParseException</code> is thrown if the user input does not conform to the expected format.</p>
</div>
<div class="paragraph">
<p>The <code>AddCaseCommand</code> that extends the <code>UndoableCommand</code> class is implemented with constructor overloading, where either constructor can be used depending on the developer’s needs.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constructor</th>
<th class="tableblock halign-left valign-top">Remark</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new AddCaseCommand(crimeCase)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accepts a <code>CrimeCase</code> object as parameter.</p>
<p class="tableblock">Useful in testing where <code>CrimeCaseBuilder</code> is used to create the <code>CrimeCase</code> object first.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new AddCaseCommand(name, description, investigatorIndex, startDate, tagList)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accepts <code>CaseName</code>, <code>Description</code>, <code>Index</code>, <code>StartDate</code>, <code>Set&lt;Tag&gt;</code> objects as parameters.</p>
<p class="tableblock">Called by <code>AddCaseCommandParser</code> when a user inputs the command and details of a case.</p>
<p class="tableblock">When this constructor is used, the <code>Index</code> object is processed to retrieve the <code>Investigator</code> object at the specified index on the most recent list of investigators displayed by the model. A <code>CrimeCase</code> object is created using the parameters and the retrieved <code>Investigator</code> object.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>CrimeCase</code> object is then added to the model and throws a <code>DuplicateCrimeCaseException</code> if there exists a similar object already in Investigapptor. The following snippet shows the execution code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>public CommandResult executeUndoableCommand() throws CommandException {
    requireNonNull(model);
    try {
        model.addCrimeCase(toAdd);
        return new CommandResult(String.format(MESSAGE_SUCCESS, toAdd));
    } catch (DuplicateCrimeCaseException e) {
        throw new CommandException(MESSAGE_DUPLICATE_CASE);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the <code>Model</code> component, the new <code>CrimeCase</code> object gets added to the case list of the assigned investigator as well (i.e. <code>UniqueCrimeCaseList</code> within the <code>Investigator</code> object) via the <code>addCrimeCaseToInvestigator</code> method. This method traverses through the entire list of investigators to find the correct <code>Investigator</code> object to add the new <code>CrimeCase</code> object to. The code is shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>public void addCrimeCase(CrimeCase c) throws DuplicateCrimeCaseException {
    CrimeCase crimeCase = syncWithMasterTagList(c);
    if (cases.add(crimeCase)) {
        addCrimeCaseToInvestigator(crimeCase);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram illustrates what happens in the <code>Model</code> component when a case is added.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SD_AddCaseCommand_Model.png" alt="SD AddCaseCommand Model" width="800">
</div>
<div class="title">Figure 2. Interactions Inside the Model Component for the <code>addcase</code> Command</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-parsing-the-investigator-to-be-assigned"><a class="link" href="#aspect-parsing-the-investigator-to-be-assigned">Aspect: Parsing the investigator-to-be-assigned</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1:</strong> User inputs an investigator&#8217;s name after the <code>i/</code> prefix to indicate who to assign the case to</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More intuitive for the user.</p>
</li>
<li>
<p>Cons: More difficult to implement - need a way to decide which investigator to assign if they share identical names.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 (current choice):</strong> User inputs the index of the investigator based on the case list after the <code>i/</code> prefix to indicate who to assign the case to</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier to implement and more straightforward. Index provided is the investigator to be assigned - don&#8217;t have to worry about identical names.</p>
</li>
<li>
<p>Cons: User would have to switch between lists to refer to the investigator index. For example, the user types the command to add the case but then realises that they needed the investigator index. They would have to either use the interface to switch the tabs or type the <code>listinvestigators</code> command. This disrupts the flow and hinders efficiency.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="deleting-cases-feature"><a class="link" href="#deleting-cases-feature">Deleting cases feature</a></h3>
<div class="sect3">
<h4 id="reason-for-implementation-3"><a class="link" href="#reason-for-implementation-3">Reason for implementation</a></h4>
<div class="paragraph">
<p>Sometimes, cases are added by error or there is no need to continue management of a case. Investigators should have a method to remove a case from the application.</p>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation-3"><a class="link" href="#current-implementation-3">Current implementation</a></h4>
<div class="paragraph">
<p>The <code>DeleteCaseCommandParser</code> parses the string of arguments provided by the user to retrieve the index (i.e. <code>Index</code>) to be used in the context of the <code>DeleteCaseCommand</code>. A <code>ParseException</code> is thrown if the user input does not conform to the expected format.</p>
</div>
<div class="paragraph">
<p>The <code>DeleteCaseCommand</code> extends the <code>UndoableCommand</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constructor</th>
<th class="tableblock halign-left valign-top">Remark</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new DeleteCaseCommand(targetIndex)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accepts an <code>Index</code> object as parameter.</p>
<p class="tableblock">The <code>targetIndex</code> is processed to retrieve the <code>CrimeCase</code> object at the specified index on the most recent list of cases displayed by the model.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>CrimeCase</code> object is then removed from the model. <code>EventsCenter</code> reacts to the <code>SwapTabEvent</code>, which switches the tab to show the list of cases. The following snippet shows the execution code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>public CommandResult executeUndoableCommand() {
    requireNonNull(caseToDelete);
    try {
        model.deleteCrimeCase(caseToDelete);
        EventsCenter.getInstance().post(new SwapTabEvent(1));
    } catch (CrimeCaseNotFoundException pnfe) {
        throw new AssertionError("The target case cannot be missing");
    }
    return new CommandResult(String.format(MESSAGE_DELETE_CASE_SUCCESS, caseToDelete));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Below are sequence diagrams illustrating the <code>Logic</code> and <code>Model</code> components.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SD_DeleteCaseCommand_Logic.png" alt="SD DeleteCaseCommand Logic" width="800">
</div>
<div class="title">Figure 3. Interactions Inside the Logic Component for the <code>deletecase 1</code> Command</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SD_DeleteCaseCommand_Model.png" alt="SD DeleteCaseCommand Model" width="500">
</div>
<div class="title">Figure 4. Interactions Inside the Model Component for the <code>deletecase 1</code> Command</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="finding-cases-feature"><a class="link" href="#finding-cases-feature">Finding cases feature</a></h3>
<div class="sect3">
<h4 id="reason-for-implementation-4"><a class="link" href="#reason-for-implementation-4">Reason for implementation</a></h4>
<div class="paragraph">
<p>To manage large numbers of cases, having a feature that would allow investigators to search the list of cases by name would be extremely helpful. If an investigator is looking for a particular case, it would be extremely inefficient and time-consuming to have to manually browse through all the cases. Hence, being able to find cases by name can help to increase workflow productivity and efficiency.</p>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation-4"><a class="link" href="#current-implementation-4">Current implementation</a></h4>
<div class="paragraph">
<p>The <code>FindCaseCommandParser</code> parses the string of arguments provided by the user to retrieve the list of keywords to be used in the context of the <code>DeleteCaseCommand</code>. A <code>ParseException</code> is thrown if the user input does not conform to the expected format.</p>
</div>
<div class="paragraph">
<p>The <code>FindCaseCommand</code> has one constructor.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constructor</th>
<th class="tableblock halign-left valign-top">Remark</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new FindCaseCommand(predicate)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accepts a <code>CaseNameContainsKeywordsPredicate</code> object as parameter.</p>
<p class="tableblock">The <code>targetIndex</code> is processed to retrieve the <code>CrimeCase</code> object at the specified index on the most recent list of cases displayed by the model.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The model is then updated to show the cases whose case name matches the predicate keywords. <code>EventsCenter</code> reacts to the <code>SwapTabEvent</code>, which switches the tab to show the filtered list of cases. The following snippet shows the execution code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>public CommandResult execute() {
    model.updateFilteredCrimeCaseList(predicate);
    EventsCenter.getInstance().post(new SwapTabEvent(1));
    return new CommandResult(getMessageForCrimeCaseListShownSummary(model.getFilteredCrimeCaseList().size()));
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram illustrates how the <code>Logic</code> component operates when a keyword is given with the command.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SD_FindCaseCommand_Logic.png" alt="SD FindCaseCommand Logic" width="800">
</div>
<div class="title">Figure 5. Interactions Inside the Logic Component for the <code>findcase magic</code> Command</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="selecting-cases-feature"><a class="link" href="#selecting-cases-feature">Selecting cases feature</a></h3>
<div class="sect3">
<h4 id="reason-for-implementation-5"><a class="link" href="#reason-for-implementation-5">Reason for implementation</a></h4>
<div class="paragraph">
<p>An investigator should be able to retrieve and view information about a case after adding them into the application.</p>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation-5"><a class="link" href="#current-implementation-5">Current implementation</a></h4>
<div class="paragraph">
<p>Similar to <code>DeleteCaseCommandParser</code>, the <code>SelectCaseCommandParser</code> parses the string of arguments provided by the user to retrieve the index (i.e. <code>Index</code>) to be used in the context of the <code>SelectCaseCommand</code>. A <code>ParseException</code> is thrown if the user input does not conform to the expected format.</p>
</div>
<div class="paragraph">
<p>The <code>SelectCaseCommand</code> extends <code>Command</code> and has one constructor.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constructor</th>
<th class="tableblock halign-left valign-top">Remark</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new SelectCaseCommand(targetIndex)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accepts an <code>Index</code> object as parameter.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>targetIndex</code> is processed to retrieve the <code>CrimeCase</code> object at the specified index on the most recent list of cases displayed by the model. Subsequently, a <code>JumpToCrimeCaseListRequestEvent</code> is posted to <code>EventsCenter</code> to signal the <code>UI</code> component. The following snippet shows the execution code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>public CommandResult execute() throws CommandException {

    List &lt; CrimeCase &gt; lastShownList = model.getFilteredCrimeCaseList();

    if (targetIndex.getZeroBased() &gt;= lastShownList.size()) {
        throw new CommandException(Messages.MESSAGE_INVALID_CASE_DISPLAYED_INDEX);
    }

    EventsCenter.getInstance().post(new JumpToCrimeCaseListRequestEvent(targetIndex));
    return new CommandResult(String.format(MESSAGE_SELECT_CASE_SUCCESS, targetIndex.getOneBased()));

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram illustrates what happens in the <code>Logic</code> component when a case is selected.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SD_SelectCaseCommand_Logic.png" alt="SD SelectCaseCommand Logic" width="800">
</div>
<div class="title">Figure 6. Interactions Inside the Logic Component for the <code>selectcase 1</code> Command</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="paragraph">
<p>Following the raised event, <code>handleJumpToCrimeCaseListRequestEvent</code> (in <code>CrimeCaseListPanel.java</code>) is signalled to handle the select request, which scrolls the view to the correct cell in the panel.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>@Subscribe
private void handleJumpToCrimeCaseListRequestEvent(JumpToCrimeCaseListRequestEvent event) {
    logger.info(LogsCenter.getEventHandlingLogMessage(event));
    scrollTo(event.targetIndex);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, a <code>CrimeCasePanelSelectionChangedEvent</code> that contains the <code>CrimeCase</code> object that was selected, is raised. This event is handled by <code>handleCrimeCasePanelSelectionChangedEvent</code> (in <code>BrowserPanel.java</code>), as shown in the snippet below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>@Subscribe
private void handleCrimeCasePanelSelectionChangedEvent(CrimeCasePanelSelectionChangedEvent event) {
        logger.info(LogsCenter.getEventHandlingLogMessage(event));
        loadCrimeCasePage(event.getNewSelection().crimeCase);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram below shows how the EventsCenter interacts with the UI component.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SD_SelectCaseCommand_EventsCenter.png" alt="SD SelectCaseCommand EventsCenter" width="800">
</div>
<div class="title">Figure 7. Interactions Inside the EventsCenter and UI Component for the <code>selectcase 1</code> Command</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
<div class="paragraph">
<p><code>loadCrimeCasePage</code> method takes the <code>CrimeCase</code> object contained within the event and splits it up into its various components (i.e. case name, description, investigator, start date, end date, status, and tags) as <code>String</code>, which are then used to create a URL query string. Components with strings that may contain symbols such as “#” are encoded first before appending to the query string.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>encDescription = URLEncoder.encode(description, "UTF-8");
encInvEmail = URLEncoder.encode(currentInvestigator.getEmail().value, "UTF-8");
encInvAddress = URLEncoder.encode(currentInvestigator.getAddress().value, "UTF-8");
encStartDate = URLEncoder.encode(startDate, "UTF-8");
encEndDate = URLEncoder.encode(endDate, "UTF-8");</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create the view where the information is displayed on the GUI (<code>BrowserPanel</code>), an HTML file (<code>/docs/CaseDetailsPage.html</code>) was created as a template for displaying the details of a single case. In order to load the HTML file, utility methods provided by JavaFX’s <code>WebView</code> (an embedded browser) are used.</p>
</div>
<div class="paragraph">
<p>A <code>String</code> containing the URL or file path is passed to the <code>load</code> method with a request string appended to the back (e.g. “https://se-edu.github.io/addressbook-level4/DummySearchPage.html?name=John%20Doe”). This method can be used to load pages from third-party services (e.g. Google Search).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>public void loadPage(String url) {
    Platform.runLater(() - &gt; browser.getEngine().load(url));
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>String caseDetailsPage = CASE_DETAILS_PAGE +
    "?caseName=" + caseName +
    "&amp;description=" + encDescription +
    "&amp;tags=" + tagList +
    "&amp;invName=" + currentInvestigator.getName().fullName +
    "&amp;invRank=" + currentInvestigator.getRank().toString() +
    "&amp;invPhone=" + currentInvestigator.getPhone().value +
    "&amp;invEmail=" + encInvEmail +
    "&amp;invAddress=" + encInvAddress +
    "&amp;startDate=" + encStartDate +
    "&amp;endDate=" + encEndDate +
    "&amp;status=" + status;

loadPage(caseDetailsPage);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Javascript code is included in the HTML file to parse the URL request string and populate the HTML file with the corresponding case details.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-implementation-to-view-case-details"><a class="link" href="#aspect-implementation-to-view-case-details">Aspect: Implementation to view case details</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use HTML and Javascript with JavaFX <code>WebView</code> (embedded browser)</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement and design with basic HTML knowledge.</p>
</li>
<li>
<p>Cons: Passing of data to the HTML file has to be done with a request string, which can get a messy if the data is complex in structure. Loading data is not as efficient.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use only JavaFX</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The view integrates more seamlessly with the application.</p>
</li>
<li>
<p>Cons: More troublesome to implement and requires JavaFX knowledge.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Reason for current choice:</strong> As the data we have is simple, implementing and styling with HTML is easier.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="editing-cases-feature"><a class="link" href="#editing-cases-feature">Editing cases feature</a></h3>
<div class="sect3">
<h4 id="reason-for-implementation-6"><a class="link" href="#reason-for-implementation-6">Reason for implementation</a></h4>
<div class="paragraph">
<p>Typos can be made when in a haste. The ability to edit cases would give investigators a chance to rectify these mistakes easily. This feature will also enable re-assignment of cases to other investigators, which is useful when an investigator can no longer work on a case.</p>
</div>
</div>
<div class="sect3">
<h4 id="current-implementation-6"><a class="link" href="#current-implementation-6">Current implementation</a></h4>
<div class="paragraph">
<p>The EditCaseCommandParser parses the String of arguments provided by the user and splits the <code>String</code> into the case index (<code>Index</code>) and the separate components (i.e. <code>CaseName</code>, <code>Description</code>, <code>Index</code>, <code>StartDate</code>, <code>Set&lt;Tag&gt;</code>) and directs it into a  ` EditCrimeCaseDescriptor` object  to be used in the context of the <code>EditCaseCommand</code>. A <code>ParseException</code> is thrown if the user input does not conform to the expected format.</p>
</div>
<div class="paragraph">
<p>The <code>EditCrimeCaseDescriptor</code> is a class containing information that describes the case (i.e. case name, description, investigator, start date, tags). The descriptor is used because the user is not required to input all the fields except the case index. When the user specifies the field they wish to edit, it sets the field in the <code>EditCrimeCaseDescriptor</code> to that value. If any field is not specified, the field is set to <code>null</code>.</p>
</div>
<div class="paragraph">
<p>The <code>EditCaseCommand</code> that extends the <code>UndoableCommand</code> has one constructor.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constructor</th>
<th class="tableblock halign-left valign-top">Remark</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new EditCaseCommand(caseIndex, editCrimeCaseDescriptor)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Accepts an <code>Index</code> object and <code>EditCrimeCaseDescriptor</code> as parameters.</p>
<p class="tableblock">The <code>caseIndex</code> is processed to retrieve the <code>CrimeCase</code> object at the specified index on the most recent list of cases displayed by the model.</p>
<p class="tableblock">A new <code>CrimeCase</code> object is created using the retrieved case-to-be-edited and the descriptor.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When the <code>EditCaseCommand</code> is executed, note that the original <code>CrimeCase</code> object is not modified, but rather, replaced by a new <code>CrimeCase</code> object. When the <code>CrimeCase</code> constructor is called, a new <code>Investigator</code> object without its <code>UniqueCrimeCaseList</code> is created within the <code>CrimeCase</code> (i.e. only the personal details are stored). This is to simplify the data to be recorded in storage. The list of cases within the original <code>Investigator</code> object remains untouched. The snippet of code below shows the implementation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>private CrimeCase syncWithMasterTagList(CrimeCase crimeCase) {
    // … logic for handling and rebuilding tags …

    return new CrimeCase(
        crimeCase.getCaseName(), crimeCase.getDescription(), crimeCase.getCurrentInvestigator(),,
        crimeCase.getStartDate(), crimeCase.getEndDate(), crimeCase.getStatus(), correctTagReferences);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Remember that each <code>Investigator</code> object has their own <code>UniqueCrimeCaseList</code> that holds <code>CrimeCase</code> objects that they&#8217;ve been assigned.</p>
</div>
<div class="paragraph">
<p>Since the <code>CrimeCase</code> object is replaced rather than modified, we need to remove the old <code>CrimeCase</code> object stored in the <code>UniqueCrimeCaseList</code> of the <code>Investigator</code> and reference the new, modified <code>CrimeCase</code> object instead. This is done by traversing the entire list of investigators and finding the correct <code>Investigator</code> object to remove the <code>CrimeCase</code> object from using the <code>removeCrimeCaseFromInvestigator</code> method. Next, after replacing the old <code>CrimeCase</code> object with the edited one in master list of all cases, it traverses the entire list of investigators again to add the case back to the correct <code>Investigator</code> object using the <code>addCrimeCaseFromInvestigator</code> method. The code below shows its implementation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>public void updateCrimeCase(CrimeCase target, CrimeCase editedCase)
throws DuplicateCrimeCaseException, CrimeCaseNotFoundException {
    requireNonNull(editedCase);

    CrimeCase syncedEditedCrimeCase = syncWithMasterTagList(editedCase);
    removeCrimeCaseFromInvestigator(target);
    cases.setCrimeCase(target, syncedEditedCrimeCase);
    addCrimeCaseToInvestigator(syncedEditedCrimeCase);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following sequence diagram below illustrates how the Model component works when a case is edited.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/SD_EditCaseCommand_Model.png" alt="SD EditCaseCommand Model" width="800">
</div>
<div class="title">Figure 8. Interactions Inside the Model Component for the <code>editcase</code> Command</div>
</div>
<div class="paragraph">
<p>&#160;<br></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-powerpointlabs"><a class="link" href="#project-powerpointlabs">PROJECT: PowerPointLabs</a></h2>
<div class="sectionbody">
<hr>
<div class="paragraph">
<p><em>{Optionally, you may include other projects in your portfolio.}</em></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-04-14 21:15:27 UTC
</div>
</div>
</body>
</html>